{% extends "base.html" %}

{% block content %}
  <body class="dashboard">
    <header>
      <ul>
        <li>{{ user }}</li>
        <li><a href="/user/signout">Log out</a></li>
      </ul>
      <a href="/uploadfile/" class="uploadbutton">
        <svg height="100" width="100">
          <g transform="scale(0.5)">
            <circle cx="50" cy="50" r="40" stroke="#333" stroke-width="4" fill="lightgrey"/>
            <polygon points="45,15 55,15 55,15 55,45 85,45 85,55 55,55 55,85 45,85 45,55 15,55 15,45 45,45" stroke="black" fill="grey"/>
          </g>
        </svg>
      </a>

    </header>
    <div class="wrapper">
      <main>
        <h2>Recent Uploads</h2>
        <div class="column">
          {% for item in files %}
          <div class="row">
            <a href="{{url_for('download_file', name=item['name'])}}">
              <p> <svg height="30" width="15" class="triangle-svg"><polygon points="0,10 0,20 10,15" class="triangle"/></svg>
                {{item['original name']}}&emsp;by {{item['author']}}&emsp;at {{item['timestamp'].strftime('%d-%m-%Y %H:%M')}}</p>
            </a>
          </div>
          {% endfor %}
        </div>
      </main>
      <aside>
        <h2>New Users</h2>
        <div class="column">
          {% for item in users %}
          <div class="row">
            <a href="{{url_for('user_profile', user=item['name'])}}">
              <p> <svg height="30" width="15" class="triangle-svg"><polygon points="0,10 0,20 10,15" class="triangle"/></svg>
                {{item['name']}}</p>
            </a>
          </div>
          {% endfor %}
        </div>
      </aside>

    </div>

  </body>
{% endblock %}